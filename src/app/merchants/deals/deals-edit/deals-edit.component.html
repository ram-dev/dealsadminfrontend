<ng-template #itemTemplate let-item="item" let-onCollapseExpand="onCollapseExpand" let-onCheckedChange="onCheckedChange">
  <div class="form-inline row-item">
    <i *ngIf="item.children" (click)="onCollapseExpand()" aria-hidden="true" class="fa" [class.fa-caret-right]="item.collapsed"
      [class.fa-caret-down]="!item.collapsed"></i>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" [(ngModel)]="item.checked" (ngModelChange)="onCheckedChange()" [disabled]="item.disabled"
        [indeterminate]="item.indeterminate" />
      <label class="form-check-label">       
        <img src="{{item.value.text}}" style="width: 50px;"/> {{item.value.name}}
      </label>
    </div>
  </div>
</ng-template>


<div class="row">
    <div class="col-md-12">
        <nb-card class="inline-form-card">
            <nb-card-header>
                <div class="clearfix">
                    <h4 style="line-height: 2;" class="float-left">{{DealType}} Deals</h4>
                    <a href="/#{{backUrl}}" class="btn btn-secondary float-right btn-sm "><i class="nb-arrow-left"></i> Back</a>
                </div>
            </nb-card-header>
        </nb-card>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <nb-card class="inline-form-card">
            <nb-card-body>
                <form [formGroup]="dealForm" (ngSubmit)="onSubmit()">
                    <div *ngIf="!dealForm.valid && errors && errors.length > 0 && !submitted" class="alert alert-danger" role="alert">
                        <div><strong>Oh snap!</strong></div>
                        <div *ngFor="let error of errors">{{ error }}</div>
                    </div>
                    <div *ngIf="messages && messages.length > 0 && !submitted" class="alert alert-success" role="alert">
                        <div><strong>Hooray!</strong></div>
                        <div *ngFor="let message of messages">{{ message }}</div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="name">Deal Name</label>
                                <input type="text" id="name" formControlName="name" class="form-control" [class.form-control-danger]="dealForm.get('name').invalid && dealForm.get('name').touched">
                                <span *ngIf="!dealForm.get('name').valid && dealForm.get('name').touched" class="form-text error">                           
                                  <span *ngIf="dealForm.get('name').errors['required']">This field is required!</span>
                                </span>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="status">Status</label>
                                <select name="status"  id="status" formControlName="status" class="form-control" [class.form-control-danger]="dealForm.get('status').invalid && dealForm.get('status').touched">                                    
                                    <option value="true">Active</option>
                                    <option value="false">InActive</option>
                                </select>   
                                <span *ngIf="!dealForm.get('status').valid && dealForm.get('status').touched" class="form-text error">                           
                                  <span *ngIf="dealForm.get('status').errors['required']">This field is required!</span>
                                </span>   
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="golive">GoLive</label>
                                <select name="golive"  id="golive" formControlName="golive" class="form-control" [class.form-control-danger]="dealForm.get('golive').invalid && dealForm.get('golive').touched">                                    
                                    <option value="true">Yes</option>
                                    <option value="false">No</option>
                                </select>   
                                <span *ngIf="!dealForm.get('golive').valid && dealForm.get('golive').touched" class="form-text error">                           
                                  <span *ngIf="dealForm.get('golive').errors['required']">This field is required!</span>
                                </span>   
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-12 btn-deals" style="margin-bottom: 20px;">
                            <button class="btn btn-success btn-semi-round btn-sm">Save</button>
                            
                        </div>
                        <br/>
                    </div>
                </form>
            </nb-card-body>
        </nb-card>
    </div>
</div>